<!DOCTYPE html>
<html>
<head>

  <title></title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

</head>
<body>
<form id="form">
  <input id="email" type="text">
  <input id="submit" type="submit">
</form>
<br/>
<div>
  <font face="helvetica, arial" style="font-weight: bold;">How likely is it you'd recommend us to a friend?</font>
</div>
<div>
  <table cellspacing="4" cellpadding="3" border="0">
    <tbody>
    <tr>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=1" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">1</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=2" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">2</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=3" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">3</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=4" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">4</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=5" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">5</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=6" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">6</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=7" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">7</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=8" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">8</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=9" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">9</a>
      </td>
      <td width="20" style="border: 1px solid grey; border-radius: 3px;text-align:center;background-color:#3cc76a;">
        <a href="https://sirbdon.github.io/nps/?nps=10" style="text-decoration:none;display:block;width:100%;text-align:center;color:#fff">10</a>
      </td>             
    </tr>
    </tbody>
  </table>
</div>


</body>

<script type="text/javascript">

// var url = '/?nps=';
var url = 'https://sirbdon.github.io/nps/?nps=';

$(document).ready(function() {

  // Handle form submit
  $('#form').submit(function(e) {
    e.preventDefault();

    let email = $('#email').val();

    $('td>a').map(function(i) {
      let nps = i + 1;
      $(this).attr('href', url + nps + '&email=' + email);
    })
  })

  // Enter Key Submit
  $(document).keypress(function (e) {
    if (e.which == 13) {        
      $('#form').submit();
    }
    return false; 
  })


})

</script>


</html>


